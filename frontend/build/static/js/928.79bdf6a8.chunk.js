"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[928],{6928:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var o=s(3438),n=s(7392),a=s(1906),l=s(5043),r=s(8424),i=s(3641),c=s(6213),d=s(1238);const p=(e,t)=>new Promise(((s,o)=>{const n=new FileReader;n.onload=e=>{try{const o=e.target.result,n=d.LF(o,{type:"binary"}),a=n.SheetNames[0],l=d.Wp.sheet_to_json(n.Sheets[a]).map((e=>({quizId:t,question:e.Question,marks:e.marks,negative:e.negative||0,category:"MCQ",options:[{text:e.option1,isCorrect:!0},{text:e.option2,isCorrect:!1},{text:e.option3,isCorrect:!1},{text:e.option4,isCorrect:!1}]})));s(l)}catch(n){o(n)}},n.onerror=e=>{o(e)},n.readAsBinaryString(e)}));var x=s(579);function h(e){let{setModalClose:t,id:s}=e;const[d,h]=(0,l.useState)(null),[u,m]=(0,l.useState)(!1),{getRootProps:f,getInputProps:g}=(0,r.VB)({onDropAccepted:e=>{console.log(e),h(...e)},onDropRejected:e=>{e.forEach((e=>{console.log(`${e.name} has an invalid MIME type.`)}))},accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"]}});return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"h-screen w-screen bg-opacity-25 px-36 py-24 bg-black fixed top-0 left-0 z-[2099]",children:(0,x.jsxs)("div",{className:"rounded-md relative h-full w-full transition-all ease-linear duration-300 bg-white",children:[(0,x.jsx)("div",{className:"flex justify-end",children:(0,x.jsx)(n.A,{onClick:()=>{t(!0)},children:(0,x.jsx)(o.A,{})})}),(0,x.jsxs)("section",{className:"p-5  gap-5",children:[(0,x.jsxs)("div",{className:"p-10 cursor-pointer flex-1 flex justify-center border-dashed border-2 border-black",...f(),children:[(0,x.jsx)("input",{...g()}),d?(0,x.jsx)("small",{children:d.name}):(0,x.jsxs)("small",{children:["Upload here ","(Only .xls & .xlsx supported)"]})]}),d&&(0,x.jsx)(a.A,{onClick:async()=>{m(!0);try{const e=await p(d,s);console.log(e);const t=c.A.post("http://localhost:3001/api/quiz/add/questions",{data:e,quizId:s},{headers:{"Content-Type":"application/json"}});console.log(t)}catch(e){console.log(e)}finally{m(!1)}},className:"mt-3",sx:{marginTop:"10px"},variant:"contained",color:"primary",children:"Validate & Upload"}),u&&(0,x.jsx)(i.A,{})]})]})})})}}}]);
//# sourceMappingURL=928.79bdf6a8.chunk.js.map